# 寄存器

## 基本介绍

学习汇编语言经常需要和寄存器打交道。因为在 CPU 上寄存器顶多就几十个，所以就给了这些寄存器名字。

一个寄存器就是一个存储单元，位于 CPU 片上，能够存储一个字大小的数据（比较典型的 16、32、64 位）。

## 通用寄存器

现代 x86 架构提供了 8 个通用寄存器（32位）。

- `%eax`
- `%ebx`
- `%ecx`
- `%edx`
- `%edi`
- `%esi`
- `%ebp`
- `%esp`

## 程序计数器

程序计数器也叫指令指针，由它指向的代码表示执行到这里了。

- `%eip`

## 16 位寄存器

16 为寄存器是通用寄存器的低 16 位。直接修改它们可能会改变通用寄存器的值，有风险。

e 表示扩展的意思。有 e 表示存储单元为 32 位，无 e 表示 16 位。

- `%ax`
- `%bx`
- `%cx`
- `%dx`
- `%di`
- `%si`
- `%bp`
- `%sp`

## 8 位寄存器

将 16 为寄存器拆分为两部分，分为高 8 位和低 8 位。（仅针对前 4 个 16 位寄存器）

- `%al`、`%ah`
- `%bl`、`%bh`
- `%cl`、`%ch`
- `%dl`、`%dh`

## 80 位浮点寄存器

特殊用途，xv6 中没有使用。

## 控制寄存器

- `%cr0`
- `%cr2`
- `%cr3`
- `%cr4`

## 调试寄存器

特殊用途，xv6 中没有使用。

- `%dr0`
- `%dr1`
- `%dr2`
- `%dr3`

## 段寄存器

控制寄存器和段寄存器是对操作系统及其重要的两种类型的寄存器。

- `%cs`：代码段
- `%ds`：数据段
- `%es`：
- `%fs`：
- `%gs`：
- `%ss`：栈段

## 全局描述符表

- `%gdtr`

## 局部描述符表

- `%ldtr`
